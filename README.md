# uncover-tests

**uncover-tests** is a GitHub Action that post-processes Rust coverage reports generated by
[`cargo llvm-cov`](https://github.com/taiki-e/cargo-llvm-cov) to exclude:

- Functions annotated with `#[test]`
- Code inside `#[cfg(test)] mod tests { ... }` blocks
- Entire test files (e.g. `/tests.rs` and files in `/tests/` directories)

This keeps your reported code coverage focused on production code, not test logic.

## Example usage

```yaml
- name: Generate coverage
  run: cargo llvm-cov --lcov --output-path lcov.info

- name: Filter out tests
  uses: scouten/uncover-tests@v1
  with:
    input-file: lcov.info
    output-file: lcov.filtered.info

- name: Upload to Codecov
  uses: codecov/codecov-action@v5
  with:
    files: lcov.filtered.info
```

## License

The `uncover-tests` action is distributed under the terms of the MIT license.

See [LICENSE](./LICENSE).
